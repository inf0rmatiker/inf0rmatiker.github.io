<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Rocky Linux Installation :: Caleb Carlson | Documentation</title>
    <link rel="canonical" href="https://inf0rmatiker.github.io/docs-site/1/learning/linux/installs/rocky-install.html">
    <meta name="generator" content="Antora 3.1.4">
    <link rel="stylesheet" href="../../../../../_/css/site.css">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://inf0rmatiker.github.io">Caleb Carlson | Documentation</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="https://inf0rmatiker.github.io/">Home</a>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="docs-site" data-version="1">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../../../index.html">Documentation</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../../index.html">Overview</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Projects</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">VU Meter</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../../projects/vu-meter/vu-meter.html">VU Meter</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">PC Exhaust</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../../projects/pc-exhaust/pc-exhaust.html">PC Exhaust</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Learning</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Kubernetes</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../kubernetes/crds.html">CRDs</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../kubernetes/k8s-api-resources.html">Kubernetes Resources</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../kubernetes/k8s-install.html">Kubernetes Install</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../kubernetes/kubectl.html">kubectl</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Lustre</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../lustre/benchmarks.html">Benchmarks</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../lustre/compiling-lustre.html">Compiling Lustre</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../lustre/development.html">Development</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../lustre/lustre-client.html">Lustre Client</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../lustre/lustre-server.html">Lustre Server</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../lustre/lustre-networking.html">Lustre Networking</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Linux</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Installs</span>
<ul class="nav-list">
  <li class="nav-item is-current-page" data-depth="4">
    <a class="nav-link" href="rocky-install.html">Rocky Linux Install</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="opensuse-install.html">OpenSUSE Linux Install</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../isos.html">ISOs</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../rpms.html">RPMs</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../tmux.html">Tmux</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../user-management.html">User Management</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Networking</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../networking/linux-networking.html">Linux</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../networking/mpi.html">MPI</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../networking/proxies.html">Proxies</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../networking/rdma.html">RDMA Programming</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../networking/socket_programming.html">Socket Programming</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../networking/ssh.html">SSH</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Storage</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../storage/benchmarks.html">Benchmarks</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../storage/filesystems.html">Filesystems</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../storage/drives.html">Drives</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Docker</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../docker/multiarch-building.html">Multi-Architecture Builds</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../docker/nginx-webserver.html">Nginx Webserver</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../docker/registry-proxy.html">Registry Proxy</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Asciinema</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../asciinema/asciinema.html">Asciinema</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">BMC Management</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../bmc-management/bmc-management.html">BMC Management</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Version Control</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../version-control/git/git.html">Git</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../version-control/github/github.html">GitHub</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Algorithms</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../algorithms/algorithms.html">Algorithms</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Machine Learning</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../machine-learning/benchmarks.html">Benchmarks</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../machine-learning/determinedai.html">Determined AI</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">REST APIs</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../rest-apis/api-security.html">Secure Development</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">InfiniBand</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../infiniband/infiniband.html">InfiniBand</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../infiniband/monitoring.html">Fabric Monitoring</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Languages</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">C</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../languages/c/getopt.html">Getopt</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../languages/cpp/cpp.html">C++</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../languages/cpp/arrays.html">Arrays</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../languages/cpp/branch_control.html">Branch Control</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../languages/cpp/classes.html">Classes</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../languages/cpp/compiling.html">Compiling and Executing</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../languages/cpp/development_environment.html">Development Environment</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../languages/cpp/error_handling.html">Error Handling</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../languages/cpp/functions.html">Functions</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../languages/cpp/input_streams.html">Input Streams</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../languages/cpp/macros.html">Macros</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../languages/cpp/pointers.html">Pointers</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../languages/cpp/references.html">References</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../languages/cpp/structures.html">Stuctures</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../languages/cpp/types.html">Types</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../languages/cpp/vectors.html">Vectors</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../languages/go/go.html">Go</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Slurm</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../slurm/slurm.html">Slurm</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">GPUs</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../gpus/gds.html">GPUDirect Storage</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../gpus/numa.html">NUMA</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Switch Management</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../switch-management/switch-management.html">Switch Management</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">HPCM</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../hpcm/hpcm.html">HPCM</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Documentation</span>
    <span class="version">1</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <a class="title" href="../../../index.html">Documentation</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../../../index.html">1</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../../../index.html">Documentation</a></li>
    <li>Learning</li>
    <li>Linux</li>
    <li>Installs</li>
    <li><a href="rocky-install.html">Rocky Linux Install</a></li>
  </ul>
</nav>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Rocky Linux Installation</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Install Rocky Linux 8.6 from HTTP web server using <a href="../../bmc-management/bmc-management.html#virtual-media-mount" class="xref page">virtual media mount from iLo</a></p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="http://sp06.hpc.amslabs.hpecorp.net:8080/Rocky-8.6-x86_64-dvd1.iso" class="bare">http://sp06.hpc.amslabs.hpecorp.net:8080/Rocky-8.6-x86_64-dvd1.iso</a></p>
</li>
<li>
<p><a href="http://v-lmo-kjpxe.hpc.amslabs.hpecorp.net/iso/Rocky-8.6-x86_64-dvd1.iso" class="bare">http://v-lmo-kjpxe.hpc.amslabs.hpecorp.net/iso/Rocky-8.6-x86_64-dvd1.iso</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_vncgui_setup"><a class="anchor" href="#_vncgui_setup"></a>VNC/GUI Setup</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/6/html/installation_guide/vncwhitepaperadded">VNC Installation Guide</a></p>
</div>
<div class="sect2">
<h3 id="_network_configuration"><a class="anchor" href="#_network_configuration"></a>Network Configuration</h3>
<div class="ulist">
<ul>
<li>
<p>Choose first non-virtual, plugged-in ethernet port (usually eno10n1)</p>
</li>
<li>
<p>Activate it to <em>ON</em></p>
</li>
<li>
<p>Set hostname (not FQDN, just <code>mawenzi-04</code>)</p>
</li>
<li>
<p>Go to <em>Configure</em></p>
<div class="ulist">
<ul>
<li>
<p><em>IPv6</em>: <em>Ignore</em></p>
</li>
<li>
<p><em>General</em>: <em>Connect automatically with priority</em> (checked)</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_os_drive_partitioning"><a class="anchor" href="#_os_drive_partitioning"></a>OS Drive Partitioning</h3>
<div class="ulist">
<ul>
<li>
<p>Choose <em>Custom</em></p>
<div class="ulist">
<ul>
<li>
<p>Remove <code>/home</code> partition, let <code>/home</code> just live under <code>/</code></p>
</li>
<li>
<p>Expand <code>/</code> partition to 200G</p>
</li>
<li>
<p>Ensure old MBR/partitions are deleted</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_kickstart_configuration"><a class="anchor" href="#_kickstart_configuration"></a>Kickstart Configuration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>RedHat Documentation:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/6/html/installation_guide/s1-kickstart2-file">What are Kickstart Installations?</a></p>
</li>
<li>
<p><a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/6/html/installation_guide/s1-kickstart2-howuse">How Do You Perform a Kickstart Installation?</a></p>
</li>
<li>
<p><a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/6/html/installation_guide/s1-kickstart2-file">Creating the Kickstart File</a></p>
</li>
<li>
<p><a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/6/html/installation_guide/s1-kickstart2-options">Kickstart Options</a></p>
</li>
<li>
<p><a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/6/html/installation_guide/ch-redhat-config-kickstart">Kickstart Configurator</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>RHEL distributions have a kickstart feature which allows you to provide a configuration file to automate install option selections.
This is equivalent to the <code>autoyast.xml</code> that OpenSUSE uses.</p>
</div>
<div class="paragraph">
<p>Doing a VNC/GUI setup will generate <code>anaconda-ks.cfg</code> kickstart file to the <code>/root</code> directory.
You can use this as a starting point/template for more installs by hosting it on an HTTP server, like <a href="http://10.214.131.45/kickstart" class="bare">http://10.214.131.45/kickstart</a> and referencing that via the grub command-line parameters during boot.</p>
</div>
<div class="paragraph">
<p>Boot via virtual media again, when you get to the grub prompt for <em>Install Rocky Linux</em> you can highlight it, hit <code>e</code> to edit:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/linux/grub_entry_rocky.png" alt="GRUB entry">
</div>
</div>
<div class="paragraph">
<p>then add boot parameters for the kickstart file and hostname: <code>inst.ks=http://10.214.131.45/kickstart/rocky86nvme.ks hostname=mawenzi-06</code></p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/linux/linux_setparams.png" alt="GRUB linux setparams">
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
To <em>fully</em> automate it, embed kickstart file into ISO and have it boot that via PXE
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Kickstart Templates</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="http://v-lmo-kjpxe.hpc.amslabs.hpecorp.net/kickstart" class="bare">http://v-lmo-kjpxe.hpc.amslabs.hpecorp.net/kickstart</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Example kickstart template:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-console hljs" data-lang="console">#version=RHEL8
# Use graphical install
graphical

repo --name="Minimal" --baseurl=file:///run/install/sources/mount-0000-cdrom/Minimal

%packages
@^minimal-environment
kexec-tools

%end

# Keyboard layouts
keyboard --xlayouts='us'
# System language
lang en_US.UTF-8

# Network information
network  --bootproto=dhcp --device=enp193s0f4u4 --onboot=off --ipv6=auto --no-activate
network  --bootproto=dhcp --device=ens10f0 --noipv6 --activate
network  --bootproto=dhcp --device=ens10f1 --onboot=off --ipv6=auto
network  --bootproto=dhcp --device=ens10f2 --onboot=off --ipv6=auto
network  --bootproto=dhcp --device=ens10f3 --onboot=off --ipv6=auto
network  --bootproto=dhcp --device=ib0 --onboot=off --ipv6=auto
network  --bootproto=dhcp --device=ib1 --onboot=off --ipv6=auto

# Use CDROM installation media
cdrom

reboot
eula --agreed

# Run the Setup Agent on first boot
firstboot --enable

ignoredisk --only-use=nvme0n1

# Zero the MBR, and clear all partitions
zerombr
clearpart --all --initlabel

# Disk partitioning information
# Create 3 partitions:
# - /boot     : XFS filesystem, on /dev/nvme0n1, size 1G
# - pv.297    : LVM filesystem, on /dev/nvme0n1, size 75G
# - /boot/efi : EFI filesystem, on /dev/nvme0n1, size 600M
part /boot --fstype="xfs" --ondisk=nvme0n1 --size=1024
part pv.297 --fstype="lvmpv" --ondisk=nvme0n1 --size=75784
part /boot/efi --fstype="efi" --ondisk=nvme0n1 --size=600 --fsoptions="umask=0077,shortname=winnt"

# LVM Physical Volume (PV) and Volume Group (VG) information
# Create volume group named rl, physical extent size of 4MiB using the pv.297 physical volume
volgroup rl --pesize=4096 pv.297
# Create swap Logical Volume (LV), with swap filesystem, sized to 4G
logvol swap --fstype="swap" --size=4096 --name=swap --vgname=rl
# Create root LV, with XFS filesystem, sized to 1G and allow it to grow
logvol / --fstype="xfs" --grow --size=1024 --name=root --vgname=rl

# System timezone, use HPE's lab NTP servers
timezone America/Denver --isUtc --ntpservers=16.110.135.123

# Root password
rootpw --iscrypted $6$8ECDqlb/TngydIOy$OXaf2ohWd8V9ze0JqNA04UPSzBCk2d0EZ/VJ9Bw5xpSQD26J1FizadA7G3wrAt0Jlf50G7V3tP1p73yAeOMRX1

# Enable RedHat kernel dump
%addon com_redhat_kdump --enable --reserve-mb='auto'

%end

%anaconda
pwpolicy root --minlen=6 --minquality=1 --notstrict --nochanges --notempty
pwpolicy user --minlen=6 --minquality=1 --notstrict --nochanges --emptyok
pwpolicy luks --minlen=6 --minquality=1 --notstrict --nochanges --notempty
%end</code></pre>
</div>
</div>
<div class="paragraph">
<p>Once you&#8217;ve saved the configuration and continued booting via <code>Ctrl + x</code>,
you should see the installation screen:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../_images/linux/rocky_install_screen.png" alt="Rocky install screen">
</div>
</div>
<div class="paragraph">
<p>Kickstart just gets you a running OS, then you can use Ansible for further configuration like secrets, environment variables,
services, etc.</p>
</div>
<div class="paragraph">
<p>Ansible, Puppet, etc are usually post-OS install tools.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_logical_volume_manager_lvm"><a class="anchor" href="#_logical_volume_manager_lvm"></a>Logical Volume Manager (LVM)</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_show_physical_volumes"><a class="anchor" href="#_show_physical_volumes"></a>Show Physical Volumes</h3>
<div class="ulist">
<ul>
<li>
<p><code>pvdisplay</code></p>
</li>
<li>
<p><code>pvs</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_show_volume_groups"><a class="anchor" href="#_show_volume_groups"></a>Show Volume Groups</h3>
<div class="ulist">
<ul>
<li>
<p><code>vgdisplay</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_extending_a_logical_volume"><a class="anchor" href="#_extending_a_logical_volume"></a>Extending a Logical Volume</h3>
<div class="paragraph">
<p>If you need more space for <code>/</code>, create a new partition (<code>/dev/sda4</code>) and use <code>pvcreate</code> to create another physical volume. Then you can add that new physical volume to the logical volume for root <code>/</code>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_disable_firewall"><a class="anchor" href="#_disable_firewall"></a>Disable Firewall</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Disable <code>firewalld</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">systemctl stop firewalld
systemctl disable firewalld</code></pre>
</div>
</div>
<div class="paragraph">
<p>Disable <code>selinux</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">setenforce 0</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_dnf_proxy_configuration"><a class="anchor" href="#_dnf_proxy_configuration"></a>DNF Proxy Configuration</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">cat &gt;&gt; /etc/dnf/dnf.conf &lt;&lt; EOF
[main]
gpgcheck=0
installonly_limit=3
clean_requirements_on_remove=True
best=True
skip_if_unavailable=False
proxy=http://proxy.houston.hpecorp.net:8080
EOF</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_proxy_environment"><a class="anchor" href="#_proxy_environment"></a>Proxy Environment</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">cat &gt;&gt; /etc/environment &lt;&lt; EOF
#Proxies for LR1
http_proxy="http://proxy.houston.hpecorp.net:8080/"
https_proxy="http://proxy.houston.hpecorp.net:8080/"
ftp_proxy="http://proxy.houston.hpecorp.net:8080/"
EOF</code></pre>
</div>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p>Copyright © 2023-2025 Caleb Carlson. All rights reserved.
</footer>
<script id="site-script" src="../../../../../_/js/site.js" data-ui-root-path="../../../../../_"></script>
<script async src="../../../../../_/js/vendor/highlight.js"></script>
  </body>
</html>

= Nvidia

:toc: auto

== Nvidia / CUDA Installation with GDS

For Ubuntu 22.04:

[,bash]
----
#!/bin/bash

apt-get install \
	cuda-drivers-535="535.104.05-1" \
	cuda-drivers-fabricmanager-535="535.104.05-1" \
	cuda-drivers-fabricmanager="535.104.05-1" \
	libnvidia-cfg1-535="535.104.05-0ubuntu1" \
	libnvidia-common-535="535.104.05-0ubuntu1" \
	libnvidia-compute-535="535.104.05-0ubuntu1" \
	libnvidia-container-tools="1.14.1-1" \
	libnvidia-container1="1.14.1-1" \
	libnvidia-decode-535="535.104.05-0ubuntu1" \
	libnvidia-encode-535="535.104.05-0ubuntu1" \
	libnvidia-extra-535="535.104.05-0ubuntu1" \
	libnvidia-fbc1-535="535.104.05-0ubuntu1" \
	libnvidia-gl-535="535.104.05-0ubuntu1" \
	nvidia-compute-utils-535="535.104.05-0ubuntu1" \
	nvidia-container-toolkit-base="1.14.1-1" \
	nvidia-container-toolkit="1.14.1-1" \
	nvidia-dkms-535="535.104.05-0ubuntu1" \
	nvidia-docker2="2.13.0-1" \
	nvidia-driver-535="535.104.05-0ubuntu1" \
	nvidia-fabricmanager-535="535.104.05-1" \
	nvidia-fs-dkms="2.17.5-1" \
	nvidia-fs="2.17.5-1" \
	nvidia-gds-12-2="12.2.2-1" \
	nvidia-gds="12.2.2-1" \
	nvidia-kernel-common-535="535.104.05-0ubuntu1" \
	nvidia-kernel-source-535="535.104.05-0ubuntu1" \
	nvidia-modprobe="535.104.05-0ubuntu1" \
	nvidia-prime="0.8.17.1" \
	nvidia-settings="535.104.05-0ubuntu1" \
	nvidia-utils-535="535.104.05-0ubuntu1" \
	xserver-xorg-video-nvidia-535="535.104.05-0ubuntu1"
----

== Installing Open-Source Nvidia Drivers

For Ubuntu 22.04, follow https://developer.nvidia.com/cuda-downloads?target_os=Linux&target_arch=x86_64&Distribution=Ubuntu&target_version=22.04&target_type=deb_local[Nvidia CUDA Toolkit Installation Guide].

Base installer installation instructions for CUDA 12.3:

[,console]
----
wget https://developer.download.nvidia.com/compute/cuda/repos/ubuntu2204/x86_64/cuda-ubuntu2204.pin
sudo mv cuda-ubuntu2204.pin /etc/apt/preferences.d/cuda-repository-pin-600
wget https://developer.download.nvidia.com/compute/cuda/12.3.1/local_installers/cuda-repo-ubuntu2204-12-3-local_12.3.1-545.23.08-1_amd64.deb
sudo dpkg -i cuda-repo-ubuntu2204-12-3-local_12.3.1-545.23.08-1_amd64.deb
sudo cp /var/cuda-repo-ubuntu2204-12-3-local/cuda-*-keyring.gpg /usr/share/keyrings/
sudo apt-get update
sudo apt-get -y install cuda-toolkit-12-3
----

https://docs.nvidia.com/cuda/cuda-installation-guide-linux/#meta-packages[Additional installation options]

NVIDIA driver installation instructions:

[,console]
----
sudo apt-get install -y nvidia-kernel-open-545
sudo apt-get install -y cuda-drivers-545
----

== Removing CUDA Toolkit and Drivers

https://docs.nvidia.com/cuda/cuda-installation-guide-linux/index.html#removing-cuda-toolkit-and-driver[Nvidia - Removing CUDA Toolkit and Drivers]

